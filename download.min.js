//download.js v4.21, by dandavis; 2008-2018. [MIT] see http://danml.com/download.html for tests/usage
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function e(t,n,o){var a,r,i=window,l="application/octet-stream",d=o||l,s=t,c=!n&&!o&&s,f=document.createElement("a"),p=function(e){return String(e)},u=i.Blob||i.MozBlob||i.WebKitBlob||p,h=n||"download";if(u=u.call?u.bind(i):Blob,"true"===String(this)&&(d=(s=[s,d])[0],s=s[1]),c&&c.length<2048&&(h=c.split("/").pop().split("?")[0],f.href=c,-1!==f.href.indexOf(c))){var b=new XMLHttpRequest;return b.open("GET",c,!0),b.responseType="blob",b.onload=function(t){e(t.target.response,h,l)},setTimeout(function(){b.send()},0),b}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(s)){if(!(s.length>2096103.424)||u===p)return navigator.msSaveBlob?navigator.msSaveBlob($(s),h):m(s);d=(s=$(s)).type||l}else if(/([\x80-\xff])/.test(s)){for(var w=0,v=new Uint8Array(s.length),y=v.length;w<y;++w)v[w]=s.charCodeAt(w);s=new u([v],{type:d})}function $(e){for(var t=e.split(/[:;,]/),n=t[1],o=("base64"==t[e.indexOf("charset")>0?3:2]?atob:decodeURIComponent)(t.pop()),a=o.length,r=0,i=new Uint8Array(a);r<a;++r)i[r]=o.charCodeAt(r);return new u([i],{type:n})}function m(e,t){if("download"in f)return f.href=e,f.setAttribute("download",h),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",f.addEventListener("click",function(e){e.stopPropagation(),this.removeEventListener("click",arguments.callee)}),document.body.appendChild(f),setTimeout(function(){f.click(),document.body.removeChild(f),!0===t&&setTimeout(function(){i.URL.revokeObjectURL(f.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),!window.open(e)&&confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(a=s instanceof u?s:new u([s],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(a,h);if(i.URL)m(i.URL.createObjectURL(a),!1);else{if("string"==typeof a||a.constructor===p)try{return m("data:"+d+";base64,"+i.btoa(a))}catch(g){return m("data:"+d+","+encodeURIComponent(a))}(r=new FileReader).onload=function(e){m(this.result)},r.readAsDataURL(a)}return!0}});
